<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Christmas Typing Lights</title>
<style>
  body {
    background: linear-gradient(#dff6ff, #b3e5fc);
    font-family: Comic Sans MS, sans-serif;
    text-align: center;
    padding: 20px;
  }
  h1 { color: #d32f2f; }
  #word {
    font-size: 48px;
    margin: 20px;
    letter-spacing: 4px;
  }
  #input {
    font-size: 32px;
    padding: 10px;
    width: 300px;
    text-align: center;
  }
  #feedback span.correct { color: green; }
  #feedback span.wrong { color: red; }
  #lights {
    display: flex;
    justify-content: center;
    margin-top: 10px;
    gap: 8px;
  }
  .bulb {
    width: 30px;
    height: 40px;
    border-radius: 50% 50% 45% 45%;
    background: gray;
    border: 2px solid #444;
    box-shadow: 0 2px 4px rgba(0,0,0,0.4);
    position: relative;
    transition: background 0.3s, box-shadow 0.3s;
  }
  .bulb::before {
    content: '';
    position: absolute;
    top: -10px;
    left: 7px;
    width: 16px;
    height: 10px;
    background: #333;
    border-radius: 3px;
  }
  .lit-red    { background:#e53935; box-shadow:0 0 15px #e53935; }
  .lit-green  { background:#43a047; box-shadow:0 0 15px #43a047; }
  .lit-blue   { background:#1e88e5; box-shadow:0 0 15px #1e88e5; }
  .lit-gold   { background:#fdd835; box-shadow:0 0 15px #fdd835; }
  #scoreboard { margin-top: 20px; font-size: 20px; }
  button {
    background:#4caf50; color:white; border:none; padding:10px 20px;
    font-size:18px; border-radius:10px; margin-top:20px;
  }
</style>
</head>
<body>

<h1>ðŸŽ„ Christmas Typing Lights ðŸŽ„</h1>
<div id="timer">Time: 60</div>
<div id="word"></div>
<div id="lights"></div>
<input id="input" type="text" autocomplete="off" autofocus>
<div id="feedback"></div>
<div id="scoreboard">Score: 0</div>
<button id="restart">Restart</button>

<script>
const words = [
  "snow","tree","santa","elf","gift","candy","sled","lights","cocoa","holly",
  "jolly","merry","frost","winter","cold","reindeer","bell","mitten","star","december"
];
const colors = ["lit-red","lit-green","lit-blue","lit-gold"];
let currentWord = "";
let score = 0;
let time = 60;
let timerInterval;

const wordEl = document.getElementById('word');
const lightsEl = document.getElementById('lights');
const inputEl = document.getElementById('input');
const feedbackEl = document.getElementById('feedback');
const scoreEl = document.getElementById('scoreboard');
const timerEl = document.getElementById('timer');
const restartBtn = document.getElementById('restart');

function newWord(){
  currentWord = words[Math.floor(Math.random()*words.length)];
  wordEl.textContent = currentWord;
  inputEl.value = "";
  feedbackEl.innerHTML = "";
  lightsEl.innerHTML = "";
  // create bulbs for each letter
  for(let i=0;i<currentWord.length;i++){
    const bulb = document.createElement('div');
    bulb.className = "bulb";
    lightsEl.appendChild(bulb);
  }
}

function startGame(){
  score = 0;
  time = 60;
  scoreEl.textContent = "Score: 0";
  timerEl.textContent = "Time: 60";
  newWord();
  inputEl.disabled = false;
  inputEl.focus();
  clearInterval(timerInterval);
  timerInterval = setInterval(()=>{
    time--;
    timerEl.textContent = "Time: " + time;
    if(time <= 0){
      clearInterval(timerInterval);
      inputEl.disabled = true;
      wordEl.textContent = "ðŸŽ‰ Time's up! ðŸŽ‰";
    }
  },1000);
}

inputEl.addEventListener('input', () => {
  const val = inputEl.value;
  feedbackEl.innerHTML = "";
  const bulbs = lightsEl.children;

  for(let i=0; i<currentWord.length; i++){
    const span = document.createElement('span');
    span.textContent = currentWord[i];
    if(i < val.length){
      if(val[i] === currentWord[i]){
        span.className = 'correct';
        // randomly pick a color and light up bulb
        bulbs[i].className = "bulb " + colors[i % colors.length];
      } else {
        span.className = 'wrong';
      }
    } else {
      bulbs[i].className = "bulb";
    }
    feedbackEl.appendChild(span);
  }
  if(val === currentWord){
    score++;
    scoreEl.textContent = "Score: " + score;
    newWord();
  }
});

restartBtn.addEventListener('click', startGame);

startGame();
</script>

</body>
</html>
